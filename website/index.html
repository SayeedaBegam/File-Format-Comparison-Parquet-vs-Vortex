<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Parquet vs Vortex - Overall Results</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="brand">
        <img src="./logo.png" alt="File format comparison logo" class="brand-logo" />
        <div>
          <div class="brand-title">File format comparison</div>
          <div class="brand-subtitle">Sayeeda Begam Mohamed Ikbal, Goutham Muralikrishnan</div>
        </div>
      </div>
      <nav class="nav">
        <a class="nav-link is-active" href="./index.html">Overall</a>
        <a class="nav-link" href="./dataset.html">Dataset detail</a>
        <a class="nav-link" href="./upload.html">Upload</a>
        <a class="nav-link" href="./metrics.html">Metrics</a>
        <a class="nav-link" href="./formats.html">Parquet vs Vortex</a>
      </nav>
    </header>

    <main class="page">
      <section class="hero">
        <div>
          <p class="eyebrow">DuckDB format showdown</p>
          <h1>Compression, latency, and scan behavior across datasets.</h1>
          <p class="lede">
            Simple benchmark to compare Parquet vs Vortex using DuckDB. The code loads a dataset into DuckDB,
            writes Parquet and Vortex, then runs the same queries on both formats.
          </p>
          <div class="hero-actions">
            <a class="button primary" href="./dataset.html">Explore datasets</a>
            <a class="button ghost" href="./upload.html">Upload dataset</a>
            <a class="button ghost" href="../out/overall_summary.json">Raw summary JSON</a>
          </div>
        </div>
        <div class="hero-card">
          <div class="hero-card-title">Format leaderboard (random access median)</div>
          <div id="format-leaderboard" class="stack"></div>
        </div>
      </section>

      <section class="stats-grid" id="overall-stats">
        <div class="stat-card">
          <div class="stat-label">Datasets</div>
          <div class="stat-value" id="stat-datasets">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Total rows</div>
          <div class="stat-value" id="stat-rows">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Total input size</div>
          <div class="stat-value" id="stat-size">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Avg. NDV ratio (col type: numeric)</div>
          <div class="stat-value" id="stat-ndv">--</div>
        </div>
      </section>

      <section class="panel">
        <div class="panel-header">
          <h2>Geomean format metrics</h2>
          <p>Compression ratio, output size, compression time, and query medians.</p>
          <div class="panel-note">* indicates median. P95 shown when available.</div>
        </div>
        <div id="format-grid" class="format-grid"></div>
      </section>

      <section class="panel">
        <div class="panel-header">
          <h2>Interactive charts</h2>
          <p>Compare datasets with hoverable lines. Pick a format and metric.</p>
        </div>
        <div class="selector-row">
          <select id="overall-format" class="select"></select>
          <select id="overall-metric" class="select">
            <option value="compression_ratio">Compression ratio</option>
            <option value="output_size">Compressed size</option>
            <option value="write_time">Compression time</option>
            <option value="compression_speed">Compression speed</option>
            <option value="decompression_time">Decompression time</option>
            <option value="decompression_speed">Decompression speed</option>
            <option value="full_scan">Full scan median</option>
            <option value="selective">Selective predicate median</option>
            <option value="random_access">Random access median</option>
          </select>
          <div class="toggle-group" id="overall-chart-toggle" role="group" aria-label="Chart type">
            <button type="button" class="toggle-btn is-active" data-mode="line">Line</button>
            <button type="button" class="toggle-btn" data-mode="bar">Bar</button>
          </div>
        </div>
        <div class="chart-card">
          <div class="chart-title" id="overall-chart-title">Compression ratio (geomean)</div>
          <div id="overall-chart" class="chart"></div>
          <div class="chart-note">Dot size encodes dataset rows. Time values are shown in ms or s.</div>
        </div>
        <div class="chart-card">
          <div class="chart-title">3D view (metric × dataset × rows/columns)</div>
          <div id="overall-3d-chart" class="chart"></div>
          <div class="chart-note">
            X = dataset, Y = rows/columns, Z = selected metric. Rotate to inspect clusters.
          </div>
        </div>
      </section>

      <section class="panel">
        <div class="panel-header">
          <h2>Dataset catalog</h2>
          <p>Jump into any dataset for a full breakdown.</p>
        </div>
        <div id="dataset-grid" class="dataset-grid"></div>
      </section>
    </main>

    <footer class="footer">
      <div>Made by Sayeeda and Goutham for the CloudDB Project.</div>
      <div class="footer-links">
        <a href="./dataset.html">Dataset detail</a>
        <a href="./upload.html">Upload</a>
        <a href="https://duckdb.org" rel="noreferrer">DuckDB</a>
      </div>
    </footer>

    <script src="./app.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  </body>
</html>
